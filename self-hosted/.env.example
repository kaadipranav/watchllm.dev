# WatchLLM Self-Hosted - Environment Variables Example
# Copy this file to .env and configure for your deployment

# =============================================================================
# DEPLOYMENT MODE (Required)
# =============================================================================
WATCHLLM_MODE=self_hosted

# =============================================================================
# LICENSE CONFIGURATION
# =============================================================================
# Option 1: License file path (recommended for production)
WATCHLLM_LICENSE_PATH=/etc/watchllm/license.json

# Option 2: License JSON directly (for simpler deployments)
# WATCHLLM_LICENSE={"customer":"ACME Corp","license_type":"enterprise","expires_at":"2027-01-01","features":["self_hosted","audit_logs"],"signature":"..."}

# License public key (provided with your license)
WATCHLLM_LICENSE_PUBLIC_KEY=your-license-public-key

# =============================================================================
# LLM PROVIDER KEYS (Configure the providers you use)
# =============================================================================

# OpenAI
OPENAI_API_KEY=sk-xxx

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-xxx

# Azure OpenAI (if using Azure)
AZURE_OPENAI_API_KEY=xxx
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_VERSION=2024-02-01

# Google AI / Vertex AI
GOOGLE_AI_API_KEY=xxx

# Groq
GROQ_API_KEY=gsk_xxx

# OpenRouter (access to multiple models)
OPENROUTER_API_KEY=sk-or-xxx

# Cohere
COHERE_API_KEY=xxx

# Together AI
TOGETHER_API_KEY=xxx

# Mistral AI
MISTRAL_API_KEY=xxx

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL (for metadata, users, projects)
DATABASE_URL=postgresql://watchllm:watchllm@postgres:5432/watchllm

# Redis (for caching and rate limiting)
REDIS_URL=redis://redis:6379

# ClickHouse (for analytics - optional)
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=watchllm
CLICKHOUSE_PASSWORD=watchllm
CLICKHOUSE_DATABASE=watchllm
CLICKHOUSE_SSL=false

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Server port
PORT=3000

# API server port (proxy)
API_PORT=8080

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable detailed request logging
ENABLE_REQUEST_LOGGING=false

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Semantic cache similarity threshold (0.0 - 1.0)
# Higher = stricter matching, Lower = more aggressive caching
CACHE_SIMILARITY_THRESHOLD=0.92

# Cache TTL in seconds (default: 7 days)
CACHE_TTL_SECONDS=604800

# =============================================================================
# SECURITY
# =============================================================================

# Encryption key for sensitive data (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-32-byte-hex-encryption-key

# JWT secret for internal auth (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret

# =============================================================================
# STORAGE
# =============================================================================

# Local storage path for logs and data
DATA_PATH=/var/lib/watchllm/data

# Log storage path
LOG_PATH=/var/lib/watchllm/logs

# =============================================================================
# OPTIONAL: S3-Compatible Storage
# =============================================================================
# Uncomment if you want to use S3-compatible storage for logs/backups

# S3_ENDPOINT=https://s3.amazonaws.com
# S3_REGION=us-east-1
# S3_ACCESS_KEY=xxx
# S3_SECRET_KEY=xxx
# S3_BUCKET=watchllm-data

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Max request size in bytes (default: 10MB)
MAX_REQUEST_SIZE=10485760

# Request timeout in milliseconds (default: 60s)
REQUEST_TIMEOUT_MS=60000

# =============================================================================
# HEALTH CHECK
# =============================================================================

# Health check endpoint path
HEALTH_CHECK_PATH=/health

# =============================================================================
# NOTES
# =============================================================================
# 
# Self-Hosted Mode Behavior:
# - No data is sent to watchllm.dev
# - All logs and traces remain local
# - License validation is offline
# - Telemetry is disabled
# - Billing features are disabled
#
# For support: enterprise@watchllm.dev
# =============================================================================
